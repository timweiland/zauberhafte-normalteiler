\documentclass[a4paper]{article}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{textcomp}
\usepackage[german]{babel}
\usepackage{amsmath, amssymb, amsthm}
\usepackage{thmtools}
\usepackage{graphicx}


% figure support
\usepackage{import}
\usepackage{xifthen}
\pdfminorversion=7
\usepackage{pdfpages}
\usepackage{transparent}
\usepackage{colonequals}
\newcommand{\incfig}[1]{%
    \def\svgwidth{\columnwidth}
    \import{./figures/}{#1.pdf_tex}
}

\usepackage{setspace}
\setstretch{1.5}

\declaretheorem[style=plain,numberwithin=section, shaded={rulecolor=Black,rulewidth=0.5pt,margin=0.5em,bgcolor={rgb}{1,1,1}}]{satz}
\declaretheorem[style=plain,numberlike=satz]{proposition}
\declaretheorem[style=plain,numberlike=satz]{lemma}
\declaretheorem[style=plain,numberlike=satz]{korollar}

\declaretheorem[style=definition,numberlike=satz, shaded={rulecolor=Black,rulewidth=0.5pt,margin=0.5em,bgcolor={rgb}{1,1,1}}]{definition}
\declaretheorem[style=definition,numberlike=satz]{beispiel}
\declaretheorem[style=definition,numberlike=satz]{bemerkung}
\declaretheorem[style=definition,numbered=no]{erinnerung} \declaretheoremstyle[ spaceabove=-6pt,
spacebelow=6pt,
headfont=\normalfont\bfseries,
bodyfont = \normalfont,
postheadspace=1em,
qed=$\blacksquare$,
headpunct={:}]{myproofstyle} %<---- change this name
\declaretheorem[name={Beweis}, style=myproofstyle, unnumbered]{beweis}

\newcommand{\R}{\mathbb{R}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\O}{\varnothing}
\newcommand*{\longeq}{\ratio\Longleftrightarrow}

\renewcommand{\labelenumi}{\roman{enumi})}

\pdfsuppresswarningpagegroup=1

\begin{document}
    \section{Normalteiler}
    \begin{definition}
        Sei $(G, \circ)$ eine Gruppe und $H \subset G$ eine Untergruppe. \\
        H heißt Normalteiler
        \begin{align*}
        &\longeq \forall g \in G \; \forall u \in H: g \circ u \circ g^{-1} \in H \\
        &\iff \forall g \in G: g H g^{-1} = H \\
        &\iff \forall g \in G: g H = H g
        .\end{align*}    
    \end{definition}
    \begin{beispiel}
        Einige Beispiele für Normalteiler:
        \begin{itemize}
            \item Die triviale Untergruppe $\{e\} $ ist immer Normalteiler, denn es gilt für alle $g \in G: g \circ \{e\} = \{g\} = \{e\} \circ g$.
            \item G ist immer Normalteiler in sich selbst, denn es gilt $\forall g \in G \; \forall g' \in G: g \circ g' \circ g^{-1} \in G$.
           \item Ist G kommutativ, so ist jede Untergruppe $H \subset G$ Normalteiler, denn es gilt $\forall g \in G \; \forall u \in H: g \circ u \circ g ^{-1} = g \circ g ^{-1} \circ u = e \circ u = u \in H$.
        \end{itemize}
    \end{beispiel}
    
    # TODO: Faktorgruppe einbauen, ggf. zweite und dritte Definition in Definition 1 entsprechend verschieben

    \section{Normalisator}
    Sei $\left( G, \circ  \right)$ Gruppe, $U \subset G$ Untergruppe. \\
    Im Allgemeinen ist $U$ kein Normalteiler in $G$. Also suchen wir uns eine größtmögliche Untergruppe von $G$, sodass $U$ in dieser Untergruppe Normalteiler ist. \\
    Formal wollen wir eine Untergruppe $V \subset G$ finden, sodass
    \begin{enumerate}
        \item $U \subset V$ ($U$ ist in $V$ enthalten)
        \item $U$ ist Normalteiler in $V$
        \item Ist $V'$ eine weitere Untergruppe von $G$ die i) und ii) erfüllt, so gilt $V' \subset V$. ($V$ ist größtmöglich)
    \end{enumerate}

    \begin{bemerkung}
        $V$ existiert immer. \\
        Ist $U$ Normalteiler in $G$, so wähle $V = G$. \\
        Ist $U$ kein Normalteiler in G, so erfüllt $V' = U$ die ersten beiden Eigenschaften, also lässt sich auch eine größtmögliche Untergruppe $V$ finden, die die ersten beiden Eigenschaften erfüllt.
    \end{bemerkung}

    \begin{definition}
        \[
            N_G(U) := \{g \in G  \mid g U g^{-1} = U\} 
        \] 
        heißt Normalisator von $U$ in $G$.
    \end{definition}

    \begin{satz}
        $N_G(U)$ ist Untergruppe von G und erfüllt die Eigenschaften i) bis iii).
    \end{satz}

    \vspace{2mm}

    \begin{beweis}
        \begin{itemize} 
            \item \underline{Untergruppe:} \\
        Die Assoziativität wird vererbt.

        Es gilt $e \in N_G(U)$, denn $e \in G$ und $e U e^{-1} = e U e = U$.

        Sei $n \in N_G(U)$. Dann gilt
        \begin{align*}
            &\phantom{\iff}\ n U n^{-1} = U \\
            &\iff n^{-1} n U n^{-1} n = n ^{-1} U n \\
            &\iff U = n^{-1} U n
        ,\end{align*}
        also auch $n^{-1} \in N_G(U)$.

        Seien $n_1, n_2 \in N_G(U)$. Dann gilt:
        \begin{align*}
            (n_1 n_2) U (n_1 n_2)^{-1} &= n_1 n_2 U n_2^{-1} n_1^{-1} \\
                                       &= n_1 (n_2 U n_2^{-1}) n_1^{-1} \\
                                       &= n_1 U n_1^{-1} \\
                                       &= U
        ,\end{align*}
        also auch $n_1 \circ n_2 \in N_G(U)$. \\

        Damit ist $N_G(U)$ Untergruppe von $G$. \\
    \item \underline{i)}: \\
        $U$ ist Normalteiler in sich selbst, also gilt $\forall u \in U: u U u^{-1} = U$. Zudem gilt $U \subset G$. Per Definition von $N_G(U)$ folgt sofort $U \subset N_G(U)$. \\
    \item \underline{ii)}: \\
        Es gilt per Definition $\forall n \in N_G(U): n U n^{-1} = U$, d.h. U ist Normalteiler in $N_G(U)$. \\
    \item \underline{iii)}: \\
        Sei $V' \subset G$ eine weitere Untergruppe mit $U \subset  V'$ und sodass $U$ Normalteiler in $V'$ ist. \\
        Sei $v \in V'$. Da $U$ Normalteiler in $V'$ ist, gilt $v U v^{-1} = U$, also per Definition $v \in N_G(U)$. \\
        $\implies V' \subset N_G(U)$.
    \end{itemize}
    \end{beweis}
    \section{Zauberhafte Folgerung}
    Welcher Mischvorgang muss auf einen aus n Karten bestehenden Kartenstapel angewendet werden, um eine Permutation der Form $\phi_{a,b}$ zu erhalten? 
    \begin{enumerate}
    \item Mischvorgang $R_c$: Sei $c \in \mathbb{N}$. Teile die $n$ Karten von links nach rechts auf $c$ Stapel aus. Danach werden die Karten wieder aufgenommen, und zwar von rechts nach links. Nach ganz oben kommt also der am weitesten links liegende Stapel.
    \item Mischvorgang $L_c$: Von links nach rechts austeilen, und auch von links nach rechts aufnehmen.
    \end{enumerate}
    \textit{(Beispiel vorführen)}
    \begin{definition} 
    \begin{enumerate}
    \item Sei $c$ ein Teiler von $c - 1$ und $a := (n - 1)/n$. Dann sind $a$ und $n$ teilerfremd und $R_c$ entspricht $\phi_{a,a}$.
    \item Sei $c$ ein Teiler von $c + 1$ und $a := (n + 1)/n$. Dann sind $a$ und $n$ teilerfremd und $L_c$ entspricht $\phi_{-a,-1}$.
    \end{enumerate}
    \end{definition}
    \vspace{2mm}
    \begin{beweis}
    \begin{itemize}
    \item i) Teilerfremdheit folgt direkt aus $ac = n - 1$. \\
    Es gilt dann $n - ac = 1$ (Mit $ggT(a,b) = s\cdot a + t\cdot b, \quad s,t \in \mathbb{Z}$ folgt Teilerfremdheit von a und n. \\
    Aus der ursprünglichen Reihenfolge der Karten $(0, …,n-1)$ passiert durch $R_c$ folgendes: 
    \begin{figure}[htbp] 
  \centering
     \includegraphics[width=0.7\textwidth]{image1.jpg}
\end{figure} \\
Erster Stapel hat $a+1$ Elemente, alle anderen $a$. \\
$\longrightarrow c$ Stapel von rechts nach links zusammenlegen: \\
Betrachte Karte $k$ aus dem Stapel $s \quad (s \in \lbrace 1, …, c-2\rbrace)$. Dann liegt die Karte $k+1$ im Stapel $s+1$ genau $a$ Stellen weiter als $k$, da in jedem Stapel außer dem ersten genau $a$ Karten sind. In Stapel 1 gilt zusätzlich Karte 0 liegt $a$ Karten weiter als $ac$. \\
Die letzte Karte im Stapel ist $c-1$. Zyklisch weiterzählen. Wir sehen dass Karte $c$ die $a-$te Karte von oben ist. \\
Insgesamt: $R_c(0) = a$ und $R_c(k+1) = R_c(k) + a$. Mit Lemma $4.5$ gilt also $R_c = \phi_{a,a}$.
    \item ii) Teilerfremdheit folgt direkt aus $ac = n+1$. \\
    $ac - n = 1$ $\longrightarrow$ wie vorhin \\
    Aus der ursprünglichen Reihenfolge der Karten $(0, …,n-1)$ passiert durch $L_c$ folgendes: 
    \begin{figure}[htbp] 
  \centering
     \includegraphics[width=0.7\textwidth]{image2.jpg}
\end{figure} \\
Letzter Stapel hat $a-1$ Elemente, alle anderen $a$. \\
Beweis wie vorhin, aber gehe $a$ Karten zurück um von der Karte $k$ zur Karte $k-1$ zu kommen. Mit $L_c(0) = n-1$ folgt $L_c = \phi_{-a,-1}$. (In $\mathbb{Z}_n$ ist $-1\equiv n-1$). \\
    \textit{Beispiele vorführen}
    \end{itemize}
    \end {beweis}
    \underline{Erkenntnis aus 4.3, 4.4, 4.6 (umbenennen):} \\
    Für $n \in $ \mathbb{N} sei $A_n := \lbrace x \big\vert n-1$ durch $x$ teilbar$\rbrace$ und $B_n := \lbrace x \big\vert n+1$ durch $x$ teilbar$\rbrace$. \\
    Wähle $a_1, …. a_r \in A_n$ und $a_1', …, a_l' \in B_n$ aus. Sei $a$ das Produkt aller $a_i$ und $a_j'$. Wähle $c_i$ bzw $c_j'$ sodass $c_ia_i = n-1$, bzw $c_j'a_j' = n+1$. \\
    Führe auf einen Kartenstapel $R_{c_1}, …, R_{c_r}$ und $L_{c_1'}, …, L_{c_l'}$ in beliebiger Reihenfolge durch. Dazwischen darf noch zusätzlich abgehoben werden. Der Kartenstapel befindet sich in der Permutation $\phi_{a,b}$, mit $b$ unbekannt falls abheben beliebig. \textit{Auf Erkenntnisse aus den jeweiligen Abschnitten verweisen}. \\
    Für uns von Bedeutung: $a=1$ oder $a=-1 \rightarrow$ Die Karten sind in der gleichen, bzw der gespiegelten zyklischen Reihenfolge.
\end{document}
